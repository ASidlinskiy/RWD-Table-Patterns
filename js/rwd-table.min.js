/*	Scripts for the tables test page 
		Original author: Maggie Wachs, www.filamentgroup.com
		Author of extended script: Nadan Gergeo
		Date: November 2011
		Dependencies: jQuery, jQuery UI widget factory
*/function mediaQueriesSupported(){return typeof window.matchMedia!="undefined"||typeof window.msMatchMedia!="undefined"}function hasTouch(){return"ontouchstart"in window}+function(e){"use strict";var t=function(t,n){function i(){r.$bodyRows.removeClass("unfocused");r.$bodyRows.removeClass("focused")}var r=this;r.options=n;r.$table=e(t);r.$tableClone=null;r.$stickyTableHead=null;r.$thead=r.$table.find("thead");r.$tbody=r.$table.find("tbody");r.$hdrCells=r.$thead.find("th");r.$bodyRows=r.$tbody.find("tr");this.$btnToolbar=null;this.$dropdownGroup=null;this.$dropdownBtn=null;this.$dropdownContainer=null;this.$autoGroup=null;this.$autoBtn=null;this.$focusGroup=null;this.$focusBtn=null;r.autoHideTrigger="auto-on-"+r.$table.attr("id")+".bs.responsivetable";r.idPrefix=r.$table.attr("id")+"-col-";r.scrollBuffer=0;r.$table.parent().hasClass("table-scroll-wrapper")===!1&&r.$table.wrap('<div class="table-scroll-wrapper"/>');r.$tableScrollWrapper=r.$table.parent();r.$tableWrapper=r.$tableScrollWrapper.parent();this.$btnToolbar=e('<div class="btn-toolbar" />');this.$dropdownGroup=e('<div class="btn-group dropdown-btn-group pull-right" />');this.$dropdownBtn=e('<button class="btn btn-default dropdown-toggle" data-toggle="dropdown">Display <span class="caret"></span></button>');this.$dropdownContainer=e('<ul class="dropdown-menu"/>');this.$autoGroup=e('<div class="btn-group auto-btn-group" />');this.$autoBtn=e('<button class="btn btn-default">Auto</button>');r.$table.hasClass("auto-on")&&this.$autoBtn.addClass("btn-primary");this.$focusGroup=e('<div class="btn-group focus-btn-group" />');this.$focusBtn=e('<button class="btn btn-default"><span class="glyphicon glyphicon-screenshot"></span> Focus</button>');this.$focusGroup.append(this.$focusBtn);r.options.addfocusbtn&&this.$btnToolbar.append(this.$focusGroup);this.$autoGroup.append(this.$autoBtn);r.options.addautobtn&&this.$btnToolbar.append(this.$autoGroup);this.$dropdownGroup.append(this.$dropdownBtn).append(this.$dropdownContainer);this.$btnToolbar.append(this.$dropdownGroup);r.$tableWrapper.prepend(this.$btnToolbar);r.$hdrCells.each(function(t){var n=e(this),i=n.attr("id");if(!i){i=r.idPrefix+t;n.attr("id",i)}if(n.is("[data-priority]")){var s=e('<li class="checkbox-row"><input type="checkbox" name="toggle-'+i+'" id="toggle-'+i+'" value="'+i+'" /> <label for="toggle-'+i+'">'+n.text()+"</label></li>");r.$dropdownContainer.append(s);s.click(function(){var e=s.find("input");e.prop("checked",!e.prop("checked"));e.trigger("change")});s.find("label").click(function(e){e.stopPropagation()});s.find("input").click(function(e){e.stopPropagation()}).change(function(){var t=e(this),n=t.val(),i=r.$tableScrollWrapper.find("#"+n+", #"+n+"-clone, [data-columns~="+n+"]");i.each(function(){var n=e(this);if(t.is(":checked")){n.css("display")!=="none"&&n.prop("colSpan",parseInt(n.prop("colSpan"))+1);n.show()}else parseInt(n.prop("colSpan"))>1?n.prop("colSpan",parseInt(n.prop("colSpan"))-1):n.hide()})}).bind("updateCheck",function(){n.css("display")!=="none"?e(this).prop("checked",!0):e(this).prop("checked",!1)}).trigger("updateCheck")}});r.$bodyRows.each(function(){var t=0;e(this).find("th, td").each(function(){var n=e(this),i="",s=n.prop("colSpan");s>1&&n.addClass("spn-cell");var o=0;for(var u=t;u<t+s;u++){i=i+" "+r.idPrefix+u;var a=r.$tableScrollWrapper.find("#"+r.idPrefix+u),f=a.attr("class");f&&n.addClass(f);var l=a.attr("data-priority");l&&n.attr("data-priority",l);a.css("display")==="none"&&o++}n.prop("colSpan",Math.max(s-o,1));i=i.substring(1);n.attr("data-columns",i);t+=s})});e(window).bind("orientationchange resize "+r.autoHideTrigger,function(){r.$dropdownContainer.find("input").trigger("updateCheck");r.$table.find(".spn-cell").each(function(){var t=e(this),n=t.attr("data-columns").split(" "),r=n.length,i=0;for(var s=0;s<r;s++)e("#"+n[s]).css("display")==="none"&&i++;i!==r&&t.show();t.prop("colSpan",Math.max(r-i,1))})});this.$dropdownContainer.is(":empty")&&this.$dropdownGroup.hide();r.$tableClone=r.$table.clone();r.$tableClone.attr("id",r.$table.attr("id")+"-clone");r.$tableClone.find("[id]").each(function(){e(this).attr("id",e(this).attr("id")+"-clone")});r.$tableClone.wrap('<div class="stickyTableHead"/>');r.$stickyTableHead=r.$tableClone.parent();r.$stickyTableHead.css("height",r.$thead.height()+2);r.$table.before(r.$stickyTableHead);e(window).bind("scroll resize",function(){e.proxy(r.updateStickyTableHead(),r)});this.$autoBtn.click(function(){r.$autoBtn.toggleClass("btn-primary");r.$table.toggleClass("auto-on");r.$tableClone.toggleClass("auto-on");e(window).trigger(r.autoHideTrigger)});this.$focusBtn.click(function(){i();e(this).toggleClass("btn-primary");r.$table.toggleClass("focus-on")});r.$bodyRows.click(function(){if(r.$table.hasClass("focus-on")){var t=e(this).hasClass("focused");i();if(!t){r.$bodyRows.addClass("unfocused");e(this).addClass("focused")}}})};t.DEFAULTS={addautobtn:!1,addfocusbtn:!1,fixednavbar:null};t.prototype.updateStickyTableHead=function(){var t=this,n=t.$table.offset().top,r=e(window).scrollTop(),i=t.$table.height()-t.$stickyTableHead.height(),s=r+e(window).height()-e(document).height(),o=0;if(t.options.fixednavbar){var u=e(t.options.fixednavbar);r+=u.height();o=u.height()}if(t.$table.parent().prop("scrollWidth")===t.$table.parent().width()){if(r>n&&r<n+t.$table.height()){t.$stickyTableHead.css({visibility:"visible",position:"fixed",top:o+"px",width:t.$table.width()+"px","min-width":"0"});return}}else t.$stickyTableHead.css({visibility:"hidden",position:"absolute",width:"auto","min-width":"100%"});o=r-n-1;o<0?o=0:o>i&&(o=i);s>0&&(o-=s);var a=!1;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))a=!0;if(r>n&&r<n+t.$table.height())if(!a)t.$stickyTableHead.css({visibility:"visible",top:o+"px"});else{t.$stickyTableHead.css({visibility:"visible"});t.$stickyTableHead.animate({top:o+"px"},400);t.$thead.css({visibility:"hidden"})}else a?t.$stickyTableHead.animate({top:"0"},400,function(){t.$thead.css({visibility:"visible"});t.$stickyTableHead.css({visibility:"hidden"})}):t.$stickyTableHead.css({visibility:"hidden"})};var n=e.fn.responsiveTable;e.fn.responsiveTable=function(n){return this.each(function(){var r=e(this),i=r.data("bs.responsivetable"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);i||r.data("bs.responsivetable",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.responsiveTable.Constructor=t;e.fn.responsiveTable.noConflict=function(){e.fn.responsiveTable=n;return this};e(window).on("load.bs.responsivetable.data-api",function(){e('table[data-responsive="true"]').each(function(){var t=e(this);t.responsiveTable(t.data())})})}(jQuery);$(document).on("click.dropdown.data-api",".dropdown-menu .checkbox-row",function(e){e.stopPropagation()});$(document).ready(function(){document.documentElement.className=document.documentElement.className.replace("no-js","js");mediaQueriesSupported()?jQuery("html").addClass("mq"):jQuery("html").addClass("no-mq");hasTouch()?jQuery("html").addClass("touch"):jQuery("html").addClass("no-touch")});