/*	Scripts for the tables test page 
		Original author: Maggie Wachs, www.filamentgroup.com
		Author of extended script: Nadan Gergeo
		Date: November 2011
		Dependencies: jQuery, jQuery UI widget factory
*/function mediaQueriesSupported(){return typeof window.matchMedia!="undefined"||typeof window.msMatchMedia!="undefined"}function hasTouch(){return"ontouchstart"in window}+function(e){"use strict";function t(n,r){function T(){f.removeClass("unfocused");f.removeClass("focused")}var i=r,s=n,o=s.find("thead"),u=s.find("tbody"),a=o.find("th"),f=u.find("tr"),l="auto-on-"+s.attr("id")+".bs.responsivetable",c=s.attr("id")+"-col-";e(s).parent().hasClass("table-scroll-wrapper")===!1&&e(s).wrap('<div class="table-scroll-wrapper"/>');var h=e(s).parent(),p=h.parent(),d=e('<div class="btn-toolbar" />'),v=e('<div class="btn-group dropdown-btn-group pull-right" />'),m=e('<button class="btn btn-default dropdown-toggle" data-toggle="dropdown">Display <span class="caret"></span></button>'),g=e('<ul class="dropdown-menu"/>'),y=e('<div class="btn-group auto-btn-group" />'),b=e('<button class="btn btn-default">Auto</button>'),w=e('<div class="btn-group focus-btn-group" />'),E=e('<button class="btn btn-default"><span class="glyphicon glyphicon-screenshot"></span> Focus</button>');s.hasClass("auto-on")&&b.addClass("btn-primary");w.append(E);y.append(b);v.append(m).append(g);i.addfocusbtn&&d.append(w);i.addautobtn&&d.append(y);d.append(v);p.prepend(d);a.each(function(t){var n=e(this),r=n.attr("id");if(!r){r=c+t;n.attr("id",r)}if(n.is("[data-priority]")){var i=e('<li class="checkbox-row"><input type="checkbox" name="toggle-'+r+'" id="toggle-'+r+'" value="'+r+'" /> <label for="toggle-'+r+'">'+n.text()+"</label></li>");g.append(i);i.click(function(){var e=i.find("input");e.prop("checked",!e.prop("checked"));e.trigger("change")});i.find("label").click(function(e){e.stopPropagation()});i.find("input").click(function(e){e.stopPropagation()}).change(function(){var t=e(this),n=t.val(),r=e(h).find("#"+n+", #"+n+"-clone, [data-columns~="+n+"]");r.each(function(){var n=e(this);if(t.is(":checked")){n.css("display")!=="none"&&n.prop("colSpan",parseInt(n.prop("colSpan"))+1);n.show()}else parseInt(n.prop("colSpan"))>1?n.prop("colSpan",parseInt(n.prop("colSpan"))-1):n.hide()})}).bind("updateCheck",function(){n.css("display")!=="none"?e(this).prop("checked",!0):e(this).prop("checked",!1)}).trigger("updateCheck")}});f.each(function(){var t=0;e(this).find("th, td").each(function(){var n=e(this),r="",i=n.prop("colSpan");i>1&&n.addClass("spn-cell");var s=0;for(var o=t;o<t+i;o++){r=r+" "+c+o;var u=e(h).find("#"+c+o),a=u.attr("class");a&&n.addClass(a);var f=u.attr("data-priority");f&&n.attr("data-priority",f);u.css("display")==="none"&&s++}n.prop("colSpan",Math.max(i-s,1));r=r.substring(1);n.attr("data-columns",r);t+=i})});e(window).bind("orientationchange resize "+l,function(){g.find("input").trigger("updateCheck");e(s).find(".spn-cell").each(function(){var t=e(this),n=t.attr("data-columns");n=n.split(" ");var r=n.length,i=0;for(var s=0;s<r;s++)e("#"+n[s]).css("display")==="none"&&i++;i!==r&&t.show();t.prop("colSpan",Math.max(r-i,1))})});g.children("li").length===0&&g.parent().hide();var S=e(s).clone();e(S).attr("id",s.attr("id")+"-clone");e(S).find("[id]").each(function(){e(this).attr("id",e(this).attr("id")+"-clone")});e(S).wrap('<div class="stickyTableHead"/>');var x=e(S).parent();e(x).css("height",o.height()+2);e(s).before(x);e(window).bind("scroll resize",function(){t.prototype.updateStickyTableHead(s,x,i.fixednavbar)});b.click(function(){b.toggleClass("btn-primary");s.toggleClass("auto-on");S.toggleClass("auto-on");e(window).trigger(l)});E.click(function(){T();e(this).toggleClass("btn-primary");s.toggleClass("focus-on")});f.click(function(){if(s.hasClass("focus-on")){var t=e(this).hasClass("focused");T();if(!t){f.addClass("unfocused");e(this).addClass("focused")}}})}t.DEFAULTS={addautobtn:!1,addfocusbtn:!1,fixednavbar:null};t.prototype.updateStickyTableHead=function(t,n,r){var i=t.find("thead"),s=t.offset().top,o=e(window).scrollTop(),u=t.height()-n.height(),a=o+e(window).height()-e(document).height(),f,l=!1;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))l=!0;r&&(o+=e(r).height());f=o-s;f-=1;f<0?f=0:f>u&&(f=u);a>0&&(f-=a);if(o>s&&o<s+t.height())if(!l)n.css({visibility:"visible",top:f+"px"});else{n.css({visibility:"visible"});n.animate({top:f+"px"},400);i.css({visibility:"hidden"})}else l?n.animate({top:"0"},400,function(){i.css({visibility:"visible"});n.css({visibility:"hidden"})}):n.css({visibility:"hidden"})};var n=e.fn.responsiveTable;e.fn.responsiveTable=function(n){return this.each(function(){var r=e(this),i=r.data("bs.responsivetable"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);i||r.data("bs.responsivetable",i=new t(r,s));typeof n=="string"&&i[n]()})};e.fn.responsiveTable.Constructor=t;e.fn.responsiveTable.noConflict=function(){e.fn.responsiveTable=n;return this};e(window).on("load.bs.responsivetable.data-api",function(){e('table[data-responsive="true"]').each(function(){var t=e(this);t.responsiveTable(t.data())})})}(jQuery);$(document).on("click.dropdown.data-api",".dropdown-menu .checkbox-row",function(e){e.stopPropagation()});$(document).ready(function(){document.documentElement.className=document.documentElement.className.replace("no-js","js");mediaQueriesSupported()?jQuery("html").addClass("mq"):jQuery("html").addClass("no-mq");hasTouch()?jQuery("html").addClass("touch"):jQuery("html").addClass("no-touch")});